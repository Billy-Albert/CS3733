{"ast":null,"code":"import { post } from \"./API.js\";\nexport function listVenues(requestRedraw) {\n  // this sends the ACTUAL POST and retrieves the answer.\n\n  let adminPass = document.getElementById(\"admin-pass\");\n  let data = {\n    'adminPassword': adminPass.value\n  };\n  const handler = json => {\n    console.log(json);\n    if (json.statusCode === 200) {\n      document.getElementById(\"db-response\").value = \"SUCCESS!\";\n    } else {\n      document.getElementById(\"db-response\").value = \"Failure...\";\n    }\n    requestRedraw();\n  };\n  post('/admin/listVenues', data, handler).then(function (response) {\n    let str = '';\n    for (let v of response.venues) {\n      str += v.name + '<br>';\n    }\n\n    // insert HTML in the <div> with \n    // constant-list\n    let cd = document.getElementById('venue-list');\n    cd.innerHTML = str;\n  }).catch(function (error) {\n    // not much to do\n    console.log(error);\n  });\n}","map":{"version":3,"names":["post","listVenues","requestRedraw","adminPass","document","getElementById","data","value","handler","json","console","log","statusCode","then","response","str","v","venues","name","cd","innerHTML","catch","error"],"sources":["C:/Users/Cowga/OneDrive/Desktop/React/CS3733/seats4u/src/controller/ListVenues.js"],"sourcesContent":["import { post } from \"./API.js\";\r\n\r\nexport function listVenues(requestRedraw) {\r\n    // this sends the ACTUAL POST and retrieves the answer.\r\n\r\n    let adminPass = document.getElementById(\"admin-pass\");\r\n\r\n    let data = {'adminPassword': adminPass.value}\r\n\r\n    const handler = (json) => {\r\n        console.log(json)\r\n\r\n        if(json.statusCode === 200) {\r\n            document.getElementById(\"db-response\").value = \"SUCCESS!\";\r\n        } else {\r\n            document.getElementById(\"db-response\").value = \"Failure...\";\r\n        }\r\n        requestRedraw();\r\n    }\r\n\r\n    post('/admin/listVenues', data, handler)\r\n        .then(function (response) {\r\n            \r\n            let str = '';\r\n            for (let v of response.venues) {\r\n                str += v.name + '<br>';\r\n            }\r\n\r\n            // insert HTML in the <div> with \r\n            // constant-list\r\n            let cd = document.getElementById('venue-list')\r\n            cd.innerHTML = str\r\n\r\n        }).catch(function (error) {\r\n            // not much to do\r\n            console.log(error)\r\n        })\r\n}"],"mappings":"AAAA,SAASA,IAAI,QAAQ,UAAU;AAE/B,OAAO,SAASC,UAAUA,CAACC,aAAa,EAAE;EACtC;;EAEA,IAAIC,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;EAErD,IAAIC,IAAI,GAAG;IAAC,eAAe,EAAEH,SAAS,CAACI;EAAK,CAAC;EAE7C,MAAMC,OAAO,GAAIC,IAAI,IAAK;IACtBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IAEjB,IAAGA,IAAI,CAACG,UAAU,KAAK,GAAG,EAAE;MACxBR,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACE,KAAK,GAAG,UAAU;IAC7D,CAAC,MAAM;MACHH,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACE,KAAK,GAAG,YAAY;IAC/D;IACAL,aAAa,CAAC,CAAC;EACnB,CAAC;EAEDF,IAAI,CAAC,mBAAmB,EAAEM,IAAI,EAAEE,OAAO,CAAC,CACnCK,IAAI,CAAC,UAAUC,QAAQ,EAAE;IAEtB,IAAIC,GAAG,GAAG,EAAE;IACZ,KAAK,IAAIC,CAAC,IAAIF,QAAQ,CAACG,MAAM,EAAE;MAC3BF,GAAG,IAAIC,CAAC,CAACE,IAAI,GAAG,MAAM;IAC1B;;IAEA;IACA;IACA,IAAIC,EAAE,GAAGf,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;IAC9Cc,EAAE,CAACC,SAAS,GAAGL,GAAG;EAEtB,CAAC,CAAC,CAACM,KAAK,CAAC,UAAUC,KAAK,EAAE;IACtB;IACAZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;EACtB,CAAC,CAAC;AACV"},"metadata":{},"sourceType":"module","externalDependencies":[]}